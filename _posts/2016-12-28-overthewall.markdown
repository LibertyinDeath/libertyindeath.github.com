---
layout: post
title:  "翻墙那些事"
date:   2016-12-28 12:22:38 +0800
categories: computer basis knowledge
---


### vpn是什么
 - Virtual Private Network(虚拟专用网络),指在公用网络上建立专用网络
  - 公用网络上传输的数据，存在着安全隐患。 公共网络上传输的数据，如果没有采取加密之类的措施的话，有可能被黑客们嗅探到，这就会导致信息泄漏，比如帐号密码、企业资料等，就会造成造成损失。
   - 为了避免信息在网络传输中被人嗅探到，最好的方式就是架设一条私人网络线路，这个私人线路只有得到授权的人才能使用，这样就大大减少了数据被他人窃取的风险。但是如果距离很远，那么建设私人网络线路的成本就太高了。比如美国某公司在中国的分公司和其美国总公司之间网络通讯，为此专门建立一条线路，其成本之高可想而知了。
    - vpn不需要架设专门的物理线路，而是利用现有的公用网络线路，通过隧道技术、加解密技术、秘钥管理技术、身份认证技术等方式，建立出一条安全的网络连接，没有得到身份验证的人，是无法进入的。这等同于专门架设了一条私有线路。这条线路是通过技术虚拟出来的，是一条临时的线路，只要连接双方断开连接，该线路就会消失，因此称之为虚拟专用网络
     - 目前网络上常见的vpn，主要有PPTP、L2TP、L2TP/IPsec、SSL VPN、Cisco VPN、OpenVPN 等类型。其中 PPTP、L2TP 两种方式，传输的数据是没有加密的，对于安全性较高的用户而言，不要选这两种方式。其他几种则都有数据加密，安全性更高。
      - 最初vpn的作用是，很多商业公司，为了让那些不在公司里的员工（比如出差在外的）能够方便地访问公司的内部网络。为了防止黑客冒充公司的员工，从外部访问公司的内部网络，VPN 软件都会提供强大的加密功能。而这个加密功能，也就让它顺便成为翻墙的利器。
       -  *就好比不通过快递员，你亲自把包裹交给收件人所在公司的前台，再由前台转交给收件人*

### **proxy是什么**
 - 网络代理，是一种特殊的网络服务，允许一个网络终端（一般为客户端）通过这个服务与另一个网络终端（一般为服务器）进行非直接的连接。一些网关、路由器等网络设备具备网络代理功能。一般认为代理服务有利于保障网络终端的隐私或安全，防止攻击。
  - 提供代理服务的电脑系统或其它类型的网络终端称为代理服务器（英文：Proxy Server）。
   - 一个完整的代理请求过程为：客户端首先与代理服务器创建连接，接着根据代理服务器所使用的代理协议，请求对目标服务器创建连接、或者获得目标服务器的指定资源（如：文件）。在后一种情况中，代理服务器可能对目标服务器的资源下载至本地缓存，如果客户端所要获取的资源在代理服务器的缓存之中，则代理服务器并不会向目标服务器发送请求，而是直接返回缓存了的资源。一些代理协议允许代理服务器改变客户端的原始请求、目标服务器的原始响应，以满足代理协议的需要。代理服务器的选项和设置在计算机程序中，通常包括一个“防火墙”，允许用户输入代理地址，它会遮盖他们的网络活动，可以允许绕过互联网过滤实现网络访问。
    - *可以看作是一个快递员，负责将你的包裹送达收件人。*

### ssh是什么
 - SSH 为 Secure Shell 的缩写，由 IETF 的网络小组（Network Working Group）所制定；SSH 为建立在应用层基础上的安全协议。SSH 是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。
  - 简单说，SSH是一种网络协议，用于计算机之间的加密登录。
   - 如果一个用户从本地计算机，使用SSH协议登录另一台远程计算机，我们就可以认为，这种登录是安全的，即使被中途截获，密码也不会泄露。
   - 最早的时候，互联网通信都是明文通信，一旦被截获，内容就暴露无疑。1995年，芬兰学者Tatu Ylonen设计了SSH协议，将登录信息全部加密，成为互联网安全的一个基本解决方案，迅速在全世界获得推广，目前已经成为Linux系统的标准配置。
    - *就好比把包裹装在保险箱里面再交给快递员。*

### 如何使用vpn翻墙
 - 使用 VPN 通常需要先安装客户端软件。当你运行 VPN 客户端，它会尝试联到 VPN 服务器（这点跟加密代理类似）。一旦和 VPN 服务器建立连接，VPN 客户端就会在你的系统中建立了一个虚拟局域网。而且，你的系统中也会多出一个虚拟网卡（在 Windows 下，可以用 ipconfig /all 命令，看到这多出来的网卡）。这样一来，你的系统中就有不止一块网卡。这就引出一个问题：那些访问网络的程序，它的数据流应该通过哪个网卡进出？
  - 为了解决此问题，VPN 客户端通常会修改你系统的路由表，让那些数据流，优先从虚拟的网卡进出。由于虚拟的网卡是通往 VPN 服务器的，当数据流到达 VPN 服务器之后，VPN 服务器再帮你把数据流转向到真正的目的地。
   - 　　前面说了，VPN 为了保证安全，都采用强加密的方式传输数据。这样一来，GFW 就无法分析你的网络数据流，进行敏感词过滤。所以，使用墙外的VPN服务器，无形中就能达到翻墙的效果。
    - 首先，你要下载一个hss的下载器，这个要翻墙才能下载，所以我放在了百度云里面，https://pan.baidu.com/s/1sk86LnZ  
     - 安装方法非常傻瓜，不多赘述
      - 安装好之后，到开始菜单里面，点击“Hotspot Shield Launch”，就启动了 HSS。启动之后，系统托盘会出现一个 HSS 的图标。如果能正常连接到 VPN 服务器，该图标会变为绿色。之后，你就可以尽情享受翻墙带来的乐趣。
       - 前面说了，一旦 VPN 装好，所有软件无需额外设置，都能够翻墙了。但是，这也引来新的问题。有些网友比较看重性能：希望能够不经过 VPN，直接访问国内的网站；只有国外的网站才走 VPN。这时候，前面提到的“路由表”就排上用场了。
        - 如果你没有 IT 技术背景，听到“路由表”这么高深的词汇，估计心里发虚。不过没关系，天朝不乏热心的网友，已经帮大伙儿做好了傻瓜化的工具。不需要对路由表有深入的理解，便可搞定。
            1. 首先，向大伙儿隆重介绍 chnroutes 开源项目（网站在“这里”）。该项目提供了预先定制好的路由表，能够做到国内网站自联，国外网站走VPN
            2. 到该网站的“这里”，下载一个压缩包（名为 pre_created_for_win.zip）。只有8.5K，一眨眼就下载完。
            3. 把压缩包解开，里面有4个文件，咱们只需要俩（vpnup.bat 和 vpndown.bat）。
            4. 当你需要调整路由的时候，（以管理员身份）双击 vpnup.bat
            5. 当你需要把路由表复原的时候，就（以管理员身份）双击 vpndown.bat
                - （运行上述俩脚本，大约需要几分钟，快慢与否取决于你电脑的性能）
                - 怎么样？是不是很简单？懂技术的网友，可以用 tracert 命令来验证路由表修改后的路由效果。

### 如何使用proxy翻墙

- 代理服务器主要有两种类型
- HTTP代理：最简单的一种代理形式，能够代理客户机的HTTP访问，上网浏览网页使用的都是HTTP协议，通常的HTTP代理端口为80、3128或8080端口。
- SOCKS代理：SOCKS代理与HTTP等其他类型的代理不同，它只是简单地传递数据包，而并不关心是何种应用协议，既可以是HTTP协议，也可以是FTP协议，或者其他任何协议，所以SOCKS代理服务器比其他类型的代理服务器速度要快得多。SOCKS代理又分为SOCKS4和 SOCKS5，二者不同的是SOCKS4代理只支持TCP协议（即传输控制协议），而SOCKS5代理则既支持TCP协议又支持UDP协议（即用户数据包协议），还支持各种身份验证机制、服务器端远程域名解析（解决DNS污染就靠这个了）等。SOCK4能做到的SOCKS5都可得到，但SOCKS5能够做到的SOCKS则不一定能做到。
- 目前SOCKS5是最常用的一种SOCKS代理。
    - **下载shadowsocks客户端**
        - Windows：https://pan.baidu.com/s/1jHY3zWq
        - Linux：   https://pan.baidu.com/s/1jHOuiN0
        - Mac：https://github.com/shadowsocks/shadowsocks-iOS/releases/download/2.6.3/ShadowsocksX-2.6.3.dmg
    - **去买账号**
        - 个人推荐使用付费版本，当然只是为了尝鲜翻个墙玩一玩就算了，直接用免费的也可以，这个地址会定期发布一些账号，不保证稳定https://www.dou-bi.co/sszhfx/
        - 付费版直接去www.shadowsocks.com，这个跟shadowsocks客户端没有半毛钱关系，我只是之前用过，免费给人家打广告。
        - 具体配置自己搞
- 也可以直接使用国人开发的lantern进行翻墙，稳定性以及流量都比较中肯，记住别浏览视频哦
    - Windows： https://pan.baidu.com/s/1o811B4Y
    - Mac：     https://pan.baidu.com/s/1dFMIDmL
    - Ubuntu：  https://pan.baidu.com/s/1pLCoRjH
